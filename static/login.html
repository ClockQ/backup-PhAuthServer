<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Login</title>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script type="text/javascript" src="http://code.jquery.com/jquery-2.2.4.min.js"></script>
    <script type="text/javascript" src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <style type="text/css">
        .LoginPage input{
            font-size: 14px;
            color: #7A869A !important;
        }
    </style>
</head>


<body>
    <div class="LoginPage">
        <form class="form-signin">
            <label for="inputEmail" class="sr-only">Email address</label>
            <input style="height: 48px" type="text" class="form-control mb-2" name="username" id="username" placeholder="用户名">
            <label for="inputPassword" class="sr-only">Password</label>
            <input style="height: 48px"  type="password" class="form-control mb-3" name="password" id="password" placeholder="密码">
            <button style="height: 48px" id="authSubmit"   class="btn btn-lg btn-primary btn-block" type="submit">登录</button>
        </form>


        <!--<form action="/v0/AccountValidation" id="loginForm" method="POST">
            <div class="form-group">
                <label for="username">User Name</label>
                <input type="text" class="form-control" name="username" id="username" placeholder="Please enter your user name">
            </div>
            <div class="form-group">
                <label for="password">Password</label>
                <input type="password" class="form-control" name="password" id="password" placeholder="Please enter your password">
            </div>
            <button type="button" id="authSubmit" class="btn btn-success">Login</button>
        </form>-->
    </div>
</body>

<script type="text/javascript" >
    // $(function () {
    //     window.console.info($)
    //     let formObj = $("#loginForm");
    //     // let url = window.location.href;
    //     // let parameter = url.substring(url.indexOf("?"));
    //     // let formUrl = formObj.attr("action") + parameter;
    //     // formObj.attr("action", formUrl);
    //
    //     $('#authSubmit').click(function(){
    //         debugger
    //         $.post(`http://192.168.100.116:9096/v0/AccountValidation${decodeURI($('#parameter').val())}`, formObj.serialize(), function(data) {
    //             console.info(data)
    //             window.location = data
    //         })
    //     });
    // });

    document.getElementById("authSubmit").addEventListener('click', function(){
        var xhttp;
        xhttp=new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                window.location = this.response
            }
        };

        // xhttp.open("POST", `http://oauth.pharbers.com/v0/AccountValidation${decodeURI($('#parameter').val())}`, true);
        xhttp.open("POST", `http://192.168.100.174:9096/v0/AccountValidation${decodeURI($('#parameter').val())}`, true);

        xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        xhttp.send(`username=${document.getElementById("username").value}&password=${document.getElementById("password").value}`);

    }, false);


</script>
</html>